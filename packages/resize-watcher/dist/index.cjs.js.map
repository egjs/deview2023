{"version":3,"file":"index.cjs.js","sources":["../src/index.ts"],"sourcesContent":["import { reactive, ReactiveObject, ReactiveSetupAdapter } from \"@cfcs/core\";\n\nexport interface ResizeWatcherReactiveState {\n  width: number;\n  height: number;\n}\n\nexport type ResizeWatcherReactiveInstance = ReactiveObject<ResizeWatcherReactiveState>;\nexport interface ResizeWatcherEvents {\n  resize: {\n    width: number;\n    height: number;\n  };\n}\n\nexport const REACTIVE: ReactiveSetupAdapter<\n  ResizeWatcherReactiveInstance,\n  ResizeWatcherReactiveState,\n  never,\n  never,\n  ResizeWatcherEvents\n> = ({ onInit, onDestroy, emit, setEvents }) => {\n  setEvents([\"resize\"]);\n\n  const obj = reactive({ width: 0, height: 0 });\n  const callback = () => {\n    obj.width = window.innerWidth;\n    obj.height = window.innerHeight;\n\n    emit(\"resize\", {\n      width: obj.width,\n      height: obj.height,\n    });\n  };\n  onInit(() => {\n    window.addEventListener(\"resize\", callback);\n    callback();\n  });\n\n  onDestroy(() => {\n    if (typeof window !== \"undefined\") {\n      window.removeEventListener(\"resize\", callback);\n    }\n  });\n  return obj;\n};\n"],"names":["REACTIVE","_a","onInit","onDestroy","emit","setEvents","obj","reactive","width","height","callback","window","innerWidth","innerHeight","addEventListener","removeEventListener"],"mappings":";;;;;;;;;;;;IAeaA,QAAQ,GAMjB,UAACC,EAAsC;MAApCC,MAAM,YAAA;IAAEC,SAAS,eAAA;IAAEC,IAAI,UAAA;IAAEC,SAAS,eAAA;EACvCA,SAAS,CAAC,CAAC,QAAQ,CAAC,CAAC;EAErB,IAAMC,GAAG,GAAGC,aAAQ,CAAC;IAAEC,KAAK,EAAE,CAAC;IAAEC,MAAM,EAAE;GAAG,CAAC;EAC7C,IAAMC,QAAQ,GAAG;IACfJ,GAAG,CAACE,KAAK,GAAGG,MAAM,CAACC,UAAU;IAC7BN,GAAG,CAACG,MAAM,GAAGE,MAAM,CAACE,WAAW;IAE/BT,IAAI,CAAC,QAAQ,EAAE;MACbI,KAAK,EAAEF,GAAG,CAACE,KAAK;MAChBC,MAAM,EAAEH,GAAG,CAACG;KACb,CAAC;GACH;EACDP,MAAM,CAAC;IACLS,MAAM,CAACG,gBAAgB,CAAC,QAAQ,EAAEJ,QAAQ,CAAC;IAC3CA,QAAQ,EAAE;GACX,CAAC;EAEFP,SAAS,CAAC;IACR,IAAI,OAAOQ,MAAM,KAAK,WAAW,EAAE;MACjCA,MAAM,CAACI,mBAAmB,CAAC,QAAQ,EAAEL,QAAQ,CAAC;;GAEjD,CAAC;EACF,OAAOJ,GAAG;AACZ;;;;"}